[package]
name = "sklears-tree"
version.workspace = true
authors.workspace = true
license.workspace = true
edition.workspace = true
rust-version.workspace = true
repository.workspace = true
homepage.workspace = true
readme = "README.md"
description = "Decision tree algorithms for sklears: CART, ID3, C4.5"
keywords = ["machine-learning", "decision-tree", "cart", "classification"]
categories = ["science", "mathematics", "algorithms"]

[dependencies]
# SciRS2 Policy Compliant Dependencies
sklears-core = { workspace = true }
scirs2-core = { workspace = true }

# Core SciRS2 modules for Tree Models
scirs2-linalg = { workspace = true, optional = true }  # For oblique splits and advanced tree operations

# Standard Rust dependencies
thiserror = { workspace = true }
rayon = { workspace = true, optional = true }
serde = { workspace = true, optional = true }
log = { workspace = true }
num_cpus = { workspace = true }

# ❌ REMOVED: Legacy dependencies (SciRS2 Policy violations)
# ❌ scirs2-autograd - use scirs2_core::ndarray instead
# ❌ ndarray - use scirs2_core::ndarray instead
# ❌ ndarray-linalg - use scirs2-linalg instead

# External dependencies (evaluated for necessity)
smartcore = "0.4"  # Third-party ML library for specific algorithms

[dev-dependencies]
criterion = { workspace = true }
sklears-metrics = { workspace = true }
approx = { workspace = true }
tempfile = "3.23"
proptest = "1.7"

[features]
default = ["std"]
std = ["sklears-core/std"]
parallel = ["rayon"]
serde = ["dep:serde", "sklears-core/serde"]
oblique = ["scirs2-linalg"]
simd = []
